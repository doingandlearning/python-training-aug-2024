# Lab 11: Errors and Exceptions

The aim of this lab is to explore the error and exception handling facilities in Python.

So far, we have not worried about what happens if someone tries to add something other than an `int`, `float`, or `TemperatureReading` to another temperature. We are now going to address this by performing a check for the data input to the `__add__` and `__sub__` methods. If the wrong type is supplied (for example, a string), then we will throw an exception.

The exception will be a custom exception called `InvalidTemperatureException`.

This lab is made up of 4 steps:
1. Create the Exception class
2. Modify the `__add__` and `__sub__` methods
3. Add some exception handling code to your application
4. Run the application

## Step 1: Create the Exception Class

You can locate this class in any suitable module, for example, in the `readings` module as it is associated with errors in data provided to `TemperatureReadings`.

The `InvalidTemperatureException` class will need:
- To extend an appropriate error or exception class such as the `Exception` class or `ValueError` class.
- Your new exception class should take the value causing the problem and a string describing the problem.
- It should provide a `__str__` method for the exception class so that when it is printed out, the value and message are displayed.

An example of a possible implementation for the `InvalidTemperatureException` class is given below:

```python
class InvalidTemperatureException(ValueError):
    """ Represents an invalid Temperature reading """
    def __init__(self, value, message):
        self.value = value
        self.message = message

    def __str__(self):
        return f'InvalidTemperatureException({self.value}, {self.message})'
```

## Step 2: Modify the `__add__` and `__sub__` Methods

Modify the `__add__` and `__sub__` methods so that if the value entered is not an `int`, `float`, or a `TemperatureReading`, the `InvalidTemperatureException` is raised. For example, the `__add__` method might be defined as:

```python
def __add__(self, other):
    if isinstance(other, int) or isinstance(other, float):
        new_value = self.value + other
    elif isinstance(other, TemperatureReading):
        new_value = self.value + other.value
    else:
        # Something is wrong; it's not an int, a float, or a temperature reading
        raise InvalidTemperatureException(other, 'Invalid type for addition to TemperatureReading')
    return TemperatureReading(new_value, self.date, self.location, self.scale)
```

Notice that we have added an `else:` statement that represents the situation where the value passed in (`other`) is not an `int`, `float`, or another `TemperatureReading`.

Now implement the `__sub__` method following a similar pattern.

## Step 3: Add Some Exception Handling Code to Your Application

Now add some exception handling code to your application so that it notifies the user that there was a problem when a string `'5.5'` is added to a `TemperatureReading`. This could be done in the main program body or within the `if __name__ == "__main__":` statement.

An example is illustrated below where the code tries to add the string `'5.5'` to a temperature:

```python
try:
    TemperatureReading(13.5, '01/05/20', 'London', 'Celsius') + '5.5'
except InvalidTemperatureException as e:
    print(e)
```

## Step 4: Run the Application

An example output generated by the exception handling of the program might look like:

```
InvalidTemperatureException(5.5, Invalid type for addition to TemperatureReading)
```

---